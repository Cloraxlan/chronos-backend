(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[0],{11:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),i=n(4),a=n.n(i),o=(n(9),n(2)),r=n(0),l=function(e){var t;return Object(c.useEffect)((function(){e.schedualSettings&&e.setDropdown(e.schedualSettings[0].tags[0])}),[e.schedualSettings]),Object(r.jsx)("div",{children:e.schedualSettings&&Object(r.jsx)("select",{defaultValue:null===(t=e.dropdown)||void 0===t?void 0:t.toString(),onChange:function(t){e.setDropdown(t.target.value)},children:e.schedualSettings.map((function(e){return Object(r.jsx)("option",{value:e.tags[0],children:e.tags[0]})}))})})},u=function(e){var t=Object(c.useState)(e.timeslot.name),n=Object(o.a)(t,2),i=n[0],a=n[1];return Object(r.jsx)(s.a.Fragment,{children:Object(r.jsxs)("tr",{children:[Object(r.jsxs)("p",{children:[i+"  ",Object(r.jsx)("button",{onClick:function(){var t=prompt("New Name?");t&&(e.updateName(t,e.i),a(t))},children:"Edit"})]}),Object(r.jsx)("th",{children:Object(r.jsx)("input",{type:"text",onChange:function(t){e.updateSave(t,e.i,0)},defaultValue:e.timeslot.begin.toString()})}),Object(r.jsx)("th",{children:Object(r.jsx)("input",{type:"text",onChange:function(t){e.updateSave(t,e.i,1)},defaultValue:e.timeslot.end.toString()})}),Object(r.jsx)("th",{children:Object(r.jsx)("p",{children:"Passing?"})}),Object(r.jsx)("th",{children:Object(r.jsx)("input",{type:"checkbox",onChange:function(t){t.target.checked?e.updatePassing(!0,e.i):e.updatePassing(!1,e.i)},defaultChecked:"passing"==e.timeslot.type})}),Object(r.jsx)("th",{children:Object(r.jsx)("button",{onClick:function(){e.deleteTime(i)},children:"Delete"})})]})})},d=function(e){var t=Object(c.useState)(null),n=Object(o.a)(t,2),s=n[0],i=n[1],a=Object(c.useState)(0),l=Object(o.a)(a,2),d=l[0],j=l[1],h=Object(c.useRef)(null),b=Object(c.useRef)(null),p=Object(c.useRef)(null),O=Object(c.useRef)(null),g=function(e){var t=s;null===t||void 0===t||t.timeSlots.map((function(n,c){n.name==e&&(null===t||void 0===t||t.timeSlots.splice(c,1))})),j(d+1),i(t)};console.log(e.dayName),Object(c.useEffect)((function(){e.schedualSettings.map((function(t){t.tags[0]==e.dayName&&(i(t),console.log(t))}))}),[e.dayName]);var f=function(e,t){var n=s;if(n){switch(e){case!0:n.timeSlots[t].type="passing";break;case!1:n.timeSlots[t].type="normal"}i(n),console.log(null===s||void 0===s?void 0:s.timeSlots[t].type)}},x=function(e,t){var n=s;n&&(n.timeSlots[t].name=e,i(n),console.log(null===s||void 0===s?void 0:s.timeSlots[t].type))},m=function(e,t,n){var c,a=e.target.value.split(",");c=[Number(a[0]),Number(a[1])];var o=s;if(o){switch(n){case 0:o.timeSlots[t].begin=c;break;case 1:o.timeSlots[t].end=c}j(d+1),i(o)}};return Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{children:Object(r.jsx)("h1",{children:null===s||void 0===s?void 0:s.tags[0]})}),Object(r.jsx)("table",{children:null===s||void 0===s?void 0:s.timeSlots.map((function(t,n){return console.log(t),Object(r.jsx)(u,{dayName:e.dayName,i:n,timeslot:t,updateSave:m,updatePassing:f,updateName:x,deleteTime:g},s.tags[0]+n+d)}))}),Object(r.jsx)("button",{onClick:function(){e.schedualSettings.map((function(t,n){if(t.tags[0]==e.dayName){var c=e.schedualSettings;c[n]=s,e.setSchedualSettings(c)}})),fetch("https://chronoshhs.herokuapp.com/admin/updatehhs",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({customization:e.schedualSettings})})},children:"Save"}),Object(r.jsx)("table",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:Object(r.jsx)("button",{onClick:function(){if(b.current&&p.current&&h.current&&O.current){var e,t,n=s;e=O.current?"passing":"normal";var c,a=b.current.value.split(",");t=[Number(a[0]),Number(a[1])];var o=p.current.value.split(",");c=[Number(o[0]),Number(o[1])],null===n||void 0===n||n.timeSlots.push({begin:t,end:c,name:h.current.value,metadata:"",type:e}),console.log(n),j(d+1),i(n)}},children:"Add"})}),Object(r.jsxs)("th",{children:[Object(r.jsx)("p",{children:"Name:"}),Object(r.jsx)("input",{ref:h,type:"text"})]}),Object(r.jsxs)("th",{children:[Object(r.jsx)("p",{children:"Start:"}),Object(r.jsx)("input",{ref:b,type:"text"})]}),Object(r.jsxs)("th",{children:[Object(r.jsx)("p",{children:"End:"}),Object(r.jsx)("input",{ref:p,type:"text"})]}),Object(r.jsxs)("th",{children:[Object(r.jsx)("p",{children:"Passing?:"}),Object(r.jsx)("input",{ref:O,type:"checkbox"})]})]})})]})},j=function(e){var t=Object(c.useState)(null),n=Object(o.a)(t,2),s=n[0],i=n[1],a=Object(c.useState)(null),u=Object(o.a)(a,2),j=u[0],h=u[1];return Object(c.useEffect)((function(){fetch("https://chronoshhs.herokuapp.com/hhs").then((function(e){e.json().then((function(e){i(e.scheduals),console.log(s)}))}))}),[]),Object(r.jsxs)("div",{children:[Object(r.jsx)(l,{schedualSettings:s,dropdown:j,setDropdown:h}),j&&s&&Object(r.jsx)(d,{dayName:j,schedualSettings:s,setSchedualSettings:i})]})},h={width:"80vw",height:"80vh"},b=function(e){return Object(r.jsx)("div",{children:Object(r.jsx)("iframe",{style:h,src:"https://docs.google.com/spreadsheets/d/1ehSc95BR3hHOO4X9-T1TEOgl5NpzG1EcVoQrbLzFKPE/edit?usp=sharing"})})};var p=function(){var e=Object(c.useState)("day"),t=Object(o.a)(e,2),n=t[0],s=t[1],i=Object(c.useState)(!1),a=Object(o.a)(i,2),l=a[0],u=a[1];return Object(c.useEffect)((function(){for(var e="";"@123"!=e;)e=prompt("Password");u(!0)}),[]),Object(r.jsx)("div",{className:"App",children:l&&Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{style:{padding:"10px",backgroundColor:"lightskyblue"},children:[Object(r.jsxs)("select",{onChange:function(e){s(e.currentTarget.value)},children:[Object(r.jsx)("option",{children:"Day"}),Object(r.jsx)("option",{children:"Year"})]}),Object(r.jsx)("button",{style:{marginLeft:"85vw",backgroundColor:"#4CAF50",border:"none",color:"white",padding:"15px 32px",textDecoration:"none",fontSize:"16px",cursor:"pointer"},onClick:function(){fetch("https://chronoshhs.herokuapp.com/admin/restart"),alert("Server Restarted")},children:"Restart"})]}),Object(r.jsxs)("div",{children:["day"==n.toLowerCase()&&Object(r.jsx)(j,{}),"year"==n.toLowerCase()&&Object(r.jsx)(b,{})]})]})})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,12)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),s(e),i(e),a(e)}))};a.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(p,{})}),document.getElementById("root")),O()},9:function(e,t,n){}},[[11,1,2]]]);
//# sourceMappingURL=main.5b1db371.chunk.js.map